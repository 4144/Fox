# Приложение к шапке официального лисотреда /s/
Это дополнение к шапке для тех, кто хочет настроить свой браузер еще больше. Настройки для повышения производительности и отключения различных зондов, полезные дополнения, интересные ссылки и т.п.

**Важное замечание**: Это памятка с интересными настройками и аддонами. Здесь пока (?) нет готового рецепта для максимальной анонимности. Если вы пришли за этим, проследуйте [сюда](https://anonymous-proxy-servers.net/en/jondofox.html) или [сюда](https://www.torproject.org/).

Стандартный дисклеймер раз: я включил краткие пояснения к каждой настройке и аддону, но если вы четко не понимаете за что они отвечают и что у вас может отвалиться в результате их установки, лучше не трогайте.

Стандартный дисклеймер два: следует помнить, что меры для достижения анонимности и безопасности зачастую противоположны друг другу, ибо чем больше вы меняете дефолтное поведение браузера и отключаете включенных по умолчанию механизмов, тем уникальнее становится его отпечаток. Если в приоритете именно анонимность, а не безопасность с анонимностью по остаточному принципу, многие зонды лучше не выключать, а скармливать им ложную информацию, маскирующую вас под типичного юзера. Думайте сами, что вам нужнее.

Интересные статьи:
* Evercookie (собирательное название для техник засовывания трекинг-идентификаторов в разные труднодоступные места помимо cookies, LSO и DOM Storage) -- http://samy.pl/evercookie/
* Фингерпринтинг (о том как вас можно опознать даже если вы рубите все попытки записать вам трекинг-идентификатор)  -- https://panopticlick.eff.org/ и http://ip-check.info/
* Как Tor Project борется с фингерпринтингом -- http://geektimes.ru/post/244484/
* Флаги HSTS и их использование для фингерпринтинга -- http://geektimes.ru/post/244065/

## Настройки
[Здесь](http://kb.mozillazine.org/About:config_entries) и [здесь](http://kb.mozillazine.org/Category:Preferences) подробные описания настроек, жаль, не всех.

[Неплохой обзор от Mozilla](https://support.mozilla.org/en-US/kb/how-stop-firefox-automatically-making-connections) с описаниями механизмов, из-за которых Firefox может инициировать соединения без прямого приказа пользователя. Настройки для отключения подобной самодеятельности есть здесь, ниже.

Если лень самому делать diff между дефолтными конфигами предыдущей и новой версии Firefox, чтобы узнать, какие настройки добавили и изменили, можно читать [блог](https://cat-in-136.github.io/tags.html#tag_pref%20diff) автора аддона Configuration Mania, который сделал это за вас.

Приведенные здесь настройки условно разделены на три категории:

1. Безопасные [настройки](prefs_1.js). Меняя которые, ничего нужного не отвалится, и кое-что улучшится.
2. [Настройки](prefs_2.js), ломающие не особо нужную функциональность.
3. [Настройки](prefs_3.js) ломающие нужную, даже базовую фунциональность. Их отключают либо для повышения безопасности, либо для повышения анонимности.

Их можно дописывать в конец prefs.js, который находится в профиле, или вводить вручную через about:config. Но _**ни в коем случае**_ не следует копировать себе все целиком из второй и третьей категории. Внимательно посмотрите и решите, что именно вам нужно.

## Аддоны
* [Cookie Controller](https://addons.mozilla.org/ru/firefox/addon/cookie-controller/). Менее удобная чем Cookie Monster штука, но можно использовать на случай длительного затишья в поддержке первого (такое уже бывало).

* [Self-Destructing Cookies](https://addons.mozilla.org/ru/firefox/addon/self-destructing-cookies/). Может быть удобнее чем полная блокировка.

* [RefControl](https://addons.mozilla.org/ru/firefox/addon/refcontrol/). Резалка рефереров. Можно тонко тюнить, а можно рубить только рефереры при переходе на другой домен (Block (3rd party)), оставляя внутридоменные, что просто, эффективно для 99% случаев и не ломает так много сайтов как полный запрет.

* [CleanLinks](https://addons.mozilla.org/ru/firefox/addon/clean-links/). Чистит ссылки от редирект-префиксов Гугла и т.п. Имеет белый список как доменов, так и рэгэкспов, чтобы пропускать ссылки со всякими нужными префиксами вроде auth, ServiceLogin и т.п.

* [RequestPolicy](https://addons.mozilla.org/ru/firefox/addon/requestpolicy/). Резалка кросс-доменных запросов. Более надежная, но уже не обновляющаяся. Хотя пишут RequestPolicy Continued и скоро собираются залить на AMO. Можно (и рекомендуется самим автором) использовать в связке с NoScript.

* [Policeman](https://addons.mozilla.org/ru/firefox/addon/policeman/). Еще одна резалка кросс-доменных запросов. Более удобная, более фичастая и активно развивающаяся. Но пока есть некоторые шероховатости, например с file -> file и file -> web. Из фич, которые есть в RequestPolicy, тут нет Request Log (решается сторонними аддонами вроде HttpFox) и блокировки редиректов с домена на домен, если они не в белом списке (решается NoRedirect в некотором роде, но менее удобно). UPD: Блокировку редиректов запилили в 0.19 версии, ждем на AMO.

* [NoRedirect](https://addons.mozilla.org/ru/firefox/addon/noredirect/). Рубит редиректы по рэгэкспам source или destination.

* [Privacy Badger](https://addons.mozilla.org/ru/firefox/addon/privacy-badger-firefox/). Аналог Ghostery от EFF. Актуально для тех, кто хочет поставить и забыть, чтоб оно там автоматом боролось с трекингом.
	
	* Часто спрашивают, чем плох Ghostery. Во-первых, он принадлежит маркетинговой компании, собирающей [статистику](https://addons.mozilla.org/en-US/firefox/addon/ghostery/privacy/) с wannabe-анонимусов. Во-вторых - распространяется под [проприетарной лицензией](https://addons.mozilla.org/en-US/firefox/addon/ghostery/license/5.4.1). Но самое главное то, что он бесполезен, если уже используется баннерорезка с анти-трекерными подписками и какой-нибудь аддон для контроля/очистки кук. См. [исследование Стэнфорда](http://cyberlaw.stanford.edu/node/6730), сравнивающее баннерорезки с Ghostery по эффективности. Если уж вам очень сильно хочется автоматического все-в-одном комбайна, подобного Ghostery - используйте Privacy Badger от Electronic Frontier Foundation, распространяющийся под свободной лицензией.

* [BetterPrivacy](https://addons.mozilla.org/ru/firefox/addon/betterprivacy/). Менее актуально с понижением числа пользователей Flash, но все же. Уничтожает [LSO](https://en.wikipedia.org/wiki/Local_shared_object), которые не может уничтожить сам браузер при очистке кук.

* [HTTPS Everywhere](https://www.eff.org/https-everywhere/). Ставить с офсайта EFF. Убрано с AMO [самими разработчиками](https://www.eff.org/https-everywhere/faq).

* [User Agent Switcher](https://addons.mozilla.org/ru/firefox/addon/user-agent-switcher/)

* [Random Agent Spoofer](https://addons.mozilla.org/ru/firefox/addon/random-agent-spoofer/). Меняет юзер-агенты, но по таймеру и с дополнительными фичами, препятствующими фингерпринтингу.

* [Yet Another Remove It Permanently](https://addons.mozilla.org/ru/firefox/addon/yarip/). Баннерорезка с поддержкой XPath. Для тех случаев, когда CSS-селекторов не хватает.
